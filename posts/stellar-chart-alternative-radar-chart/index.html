<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Stellar Chart, a Type of Chart to Be on Your Radar &#183; Matplotblog</title><meta name=description content="Learn how to create a simple stellar chart, an alternative to the radar chart."><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link href=https://matplotlib.org/matplotblog/css/concated.min.css rel=stylesheet><style>body{background:#ecedef url(https://matplotlib.org/matplotblog/bg_tiles.png)repeat}</style></head><body class=single-body><nav class="nav-bar side-padding"><h1 class=nav-header><a href=https://matplotlib.org/matplotblog/ class=nav-text><img src=https://matplotlib.org/matplotblog/mpl_logo.png></a></h1><a href=https://matplotlib.org/matplotblog/index.xml><img src=https://matplotlib.org/matplotblog/rss.svg style=width:25px;margin:10px alt="RSS feed"></a><div class=hamburger-menu><button onclick=hamburgerMenuPressed.call(this) aria-haspopup=true aria-expanded=false aria-controls=menu aria-label=Menu>
<span></span><span></span></button><ul id=menu class=hamburger-menu-overlay><li><a href=https://matplotlib.org/matplotblog/ class=hamburger-menu-overlay-link>Home</a></li><li><a href=https://matplotlib.org/matplotblog/posts/how-to-contribute/ class=hamburger-menu-overlay-link>How to Contribute</a></li><li><a href=https://matplotlib.org/matplotblog/categories/3d class=hamburger-menu-overlay-link>3d</a></li><li><a href=https://matplotlib.org/matplotblog/categories/academia class=hamburger-menu-overlay-link>Academia</a></li><li><a href=https://matplotlib.org/matplotblog/categories/art class=hamburger-menu-overlay-link>Art</a></li><li><a href=https://matplotlib.org/matplotblog/categories/editorial class=hamburger-menu-overlay-link>Editorial</a></li><li><a href=https://matplotlib.org/matplotblog/categories/graphs class=hamburger-menu-overlay-link>Graphs</a></li><li><a href=https://matplotlib.org/matplotblog/categories/gsoc class=hamburger-menu-overlay-link>Gsoc</a></li><li><a href=https://matplotlib.org/matplotblog/categories/gsod class=hamburger-menu-overlay-link>Gsod</a></li><li><a href=https://matplotlib.org/matplotblog/categories/industry class=hamburger-menu-overlay-link>Industry</a></li><li><a href=https://matplotlib.org/matplotblog/categories/news class=hamburger-menu-overlay-link>News</a></li><li><a href=https://matplotlib.org/matplotblog/categories/tutorials class=hamburger-menu-overlay-link>Tutorials</a></li><li><a href=https://matplotlib.org class=hamburger-menu-overlay-link target=blank>About</a></li></ul></div></nav><main class="content side-text-padding"><article class="post dropcase"><header class=post-header><h1 class=post-title>Stellar Chart, a Type of Chart to Be on Your Radar</h1><p class=post-date>Posted <time datetime=2021-01-10>Jan 10, 2021</time>
<span class=post-author>&mdash; By João Palmeiro</span></p></header><p>In May 2020, Alexandre Morin-Chassé published a blog post about the <strong>stellar chart</strong>. This type of chart is an (approximately) direct alternative to the <strong>radar chart</strong> (also known as web, spider, star, or cobweb chart) — you can read more about this chart <a href=https://medium.com/nightingale/the-stellar-chart-an-elegant-alternative-to-radar-charts-ae6a6931a28e>here</a>.</p><p><img src=radar_stellar_chart.png alt="Comparison of a radar chart and a stellar chart"></p><p>In this tutorial, we will see how we can create a quick-and-dirty stellar chart. First of all, let's get the necessary modules/libraries, as well as prepare a dummy dataset (with just a single record).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> itertools <span style=color:#f92672>import</span> chain, zip_longest
<span style=color:#f92672>from</span> math <span style=color:#f92672>import</span> ceil, pi

<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#f92672>as</span> plt

data <span style=color:#f92672>=</span> [
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V1</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>8</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V2</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>10</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V3</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>9</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V4</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>12</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V5</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>6</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V6</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>14</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V7</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>15</span>),
    (<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>V8</span><span style=color:#e6db74>&#34;</span>, <span style=color:#ae81ff>25</span>),
]
</code></pre></div><p>We will also need some helper functions, namely a function to round up to the nearest 10 (<code>round_up()</code>) and a function to join two sequences (<code>even_odd_merge()</code>). In the latter, the values of the first sequence (a list or a tuple, basically) will fill the even positions and the values of the second the odd ones.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>round_up</span>(value):
    <span style=color:#e6db74></span><span style=color:#e6db74>&#34;&#34;&#34;</span><span style=color:#e6db74></span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    &gt;&gt;&gt; round_up(25)</span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    30</span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    </span><span style=color:#e6db74>&#34;&#34;&#34;</span>
    <span style=color:#66d9ef>return</span> int(ceil(value <span style=color:#f92672>/</span> <span style=color:#ae81ff>10.0</span>)) <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span>


<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>even_odd_merge</span>(even, odd, filter_none<span style=color:#f92672>=</span>True):
    <span style=color:#e6db74></span><span style=color:#e6db74>&#34;&#34;&#34;</span><span style=color:#e6db74></span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    &gt;&gt;&gt; list(even_odd_merge([1,3], [2,4]))</span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    [1, 2, 3, 4]</span><span style=color:#e6db74>
</span><span style=color:#e6db74></span><span style=color:#e6db74>    </span><span style=color:#e6db74>&#34;&#34;&#34;</span>
    <span style=color:#66d9ef>if</span> filter_none:
        <span style=color:#66d9ef>return</span> filter(None<span style=color:#f92672>.</span>__ne__, chain<span style=color:#f92672>.</span>from_iterable(zip_longest(even, odd)))

    <span style=color:#66d9ef>return</span> chain<span style=color:#f92672>.</span>from_iterable(zip_longest(even, odd))
</code></pre></div><p>That said, to plot <code>data</code> on a stellar chart, we need to apply some transformations, as well as calculate some auxiliary values. So, let's start by creating a function (<code>prepare_angles()</code>) to calculate the angle of each axis on the chart (<code>N</code> corresponds to the number of variables to be plotted).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>prepare_angles</span>(N):
    angles <span style=color:#f92672>=</span> [n <span style=color:#f92672>/</span> N <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> pi <span style=color:#66d9ef>for</span> n <span style=color:#f92672>in</span> range(N)]

    <span style=color:#75715e># Repeat the first angle to close the circle</span>
    angles <span style=color:#f92672>+</span><span style=color:#f92672>=</span> angles[:<span style=color:#ae81ff>1</span>]

    <span style=color:#66d9ef>return</span> angles
</code></pre></div><p>Next, we need a function (<code>prepare_data()</code>) responsible for adjusting the original data (<code>data</code>) and separating it into several easy-to-use objects.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>prepare_data</span>(data):
    labels <span style=color:#f92672>=</span> [d[<span style=color:#ae81ff>0</span>] <span style=color:#66d9ef>for</span> d <span style=color:#f92672>in</span> data]  <span style=color:#75715e># Variable names</span>
    values <span style=color:#f92672>=</span> [d[<span style=color:#ae81ff>1</span>] <span style=color:#66d9ef>for</span> d <span style=color:#f92672>in</span> data]

    <span style=color:#75715e># Repeat the first value to close the circle</span>
    values <span style=color:#f92672>+</span><span style=color:#f92672>=</span> values[:<span style=color:#ae81ff>1</span>]

    N <span style=color:#f92672>=</span> len(labels)
    angles <span style=color:#f92672>=</span> prepare_angles(N)

    <span style=color:#66d9ef>return</span> labels, values, angles, N
</code></pre></div><p>Lastly, for this specific type of chart, we require a function (<code>prepare_stellar_aux_data()</code>) that, from the previously calculated angles, prepares two lists of auxiliary values: a list of <strong>intermediate angles</strong> for each pair of angles (<code>stellar_angles</code>) and a list of small <strong>constant values</strong> (<code>stellar_values</code>), which will act as the values of the variables to be plotted in order to achieve the <strong>star-like shape</strong> intended for the stellar chart.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>prepare_stellar_aux_data</span>(angles, ymax, N):
    angle_midpoint <span style=color:#f92672>=</span> pi <span style=color:#f92672>/</span> N

    stellar_angles <span style=color:#f92672>=</span> [angle <span style=color:#f92672>+</span> angle_midpoint <span style=color:#66d9ef>for</span> angle <span style=color:#f92672>in</span> angles[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]]
    stellar_values <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0.05</span> <span style=color:#f92672>*</span> ymax] <span style=color:#f92672>*</span> N

    <span style=color:#66d9ef>return</span> stellar_angles, stellar_values
</code></pre></div><p>At this point, we already have all the necessary <em>ingredients</em> for the stellar chart, so let's move on to the Matplotlib side of this tutorial. In terms of <strong>aesthetics</strong>, we can rely on a function (<code>draw_peripherals()</code>) designed for this specific purpose (feel free to customize it!).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>draw_peripherals</span>(ax, labels, angles, ymax, outer_color, inner_color):
    <span style=color:#75715e># X-axis</span>
    ax<span style=color:#f92672>.</span>set_xticks(angles[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
    ax<span style=color:#f92672>.</span>set_xticklabels(labels, color<span style=color:#f92672>=</span>outer_color, size<span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>)

    <span style=color:#75715e># Y-axis</span>
    ax<span style=color:#f92672>.</span>set_yticks(range(<span style=color:#ae81ff>10</span>, ymax, <span style=color:#ae81ff>10</span>))
    ax<span style=color:#f92672>.</span>set_yticklabels(range(<span style=color:#ae81ff>10</span>, ymax, <span style=color:#ae81ff>10</span>), color<span style=color:#f92672>=</span>inner_color, size<span style=color:#f92672>=</span><span style=color:#ae81ff>7</span>)
    ax<span style=color:#f92672>.</span>set_ylim(<span style=color:#ae81ff>0</span>, ymax)
    ax<span style=color:#f92672>.</span>set_rlabel_position(<span style=color:#ae81ff>0</span>)

    <span style=color:#75715e># Both axes</span>
    ax<span style=color:#f92672>.</span>set_axisbelow(True)

    <span style=color:#75715e># Boundary line</span>
    ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>polar</span><span style=color:#e6db74>&#34;</span>]<span style=color:#f92672>.</span>set_color(outer_color)

    <span style=color:#75715e># Grid lines</span>
    ax<span style=color:#f92672>.</span>xaxis<span style=color:#f92672>.</span>grid(True, color<span style=color:#f92672>=</span>inner_color, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>-</span><span style=color:#e6db74>&#34;</span>)
    ax<span style=color:#f92672>.</span>yaxis<span style=color:#f92672>.</span>grid(True, color<span style=color:#f92672>=</span>inner_color, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>-</span><span style=color:#e6db74>&#34;</span>)
</code></pre></div><p>To <strong>plot the data</strong> and orchestrate (almost) all the steps necessary to have a stellar chart, we just need one last function: <code>draw_stellar()</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>draw_stellar</span>(
    ax,
    labels,
    values,
    angles,
    N,
    shape_color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>tab:blue</span><span style=color:#e6db74>&#34;</span>,
    outer_color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>slategrey</span><span style=color:#e6db74>&#34;</span>,
    inner_color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>lightgrey</span><span style=color:#e6db74>&#34;</span>,
):
    <span style=color:#75715e># Limit the Y-axis according to the data to be plotted</span>
    ymax <span style=color:#f92672>=</span> round_up(max(values))

    <span style=color:#75715e># Get the lists of angles and variable values</span>
    <span style=color:#75715e># with the necessary auxiliary values injected</span>
    stellar_angles, stellar_values <span style=color:#f92672>=</span> prepare_stellar_aux_data(angles, ymax, N)
    all_angles <span style=color:#f92672>=</span> list(even_odd_merge(angles, stellar_angles))
    all_values <span style=color:#f92672>=</span> list(even_odd_merge(values, stellar_values))

    <span style=color:#75715e># Apply the desired style to the figure elements</span>
    draw_peripherals(ax, labels, angles, ymax, outer_color, inner_color)

    <span style=color:#75715e># Draw (and fill) the star-shaped outer line/area</span>
    ax<span style=color:#f92672>.</span>plot(
        all_angles,
        all_values,
        linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,
        linestyle<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>solid</span><span style=color:#e6db74>&#34;</span>,
        solid_joinstyle<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>round</span><span style=color:#e6db74>&#34;</span>,
        color<span style=color:#f92672>=</span>shape_color,
    )

    ax<span style=color:#f92672>.</span>fill(all_angles, all_values, shape_color)

    <span style=color:#75715e># Add a small hole in the center of the chart</span>
    ax<span style=color:#f92672>.</span>plot(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, marker<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>o</span><span style=color:#e6db74>&#34;</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>white</span><span style=color:#e6db74>&#34;</span>, markersize<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>)
</code></pre></div><p>Finally, let's get our chart on a <em>blank canvas</em> (figure).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>figure(dpi<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_subplot(<span style=color:#ae81ff>111</span>, polar<span style=color:#f92672>=</span>True)  <span style=color:#75715e># Don&#39;t forget the projection!</span>

draw_stellar(ax, <span style=color:#f92672>*</span>prepare_data(data))

plt<span style=color:#f92672>.</span>show()
</code></pre></div><p><img src=stellar_chart.png alt="Example of a stellar chart"></p><p>It's done! Right now, you have an example of a stellar chart and the boilerplate code to add this type of chart to your <em>repertoire</em>. If you end up creating your own stellar charts, feel free to share them with the <em>world</em> (and <a href=https://twitter.com/joaompalmeiro>me</a>!). I hope this tutorial was useful and interesting for you!</p></article></main><nav class="end-nav side-padding"></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous onload=renderMathInElement(document.body);></script><script src=https://matplotlib.org/matplotblog/js/core.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>